{% extends 'layout.html.twig' %}

{% block title %}
	{{ parent()}}Equipe commerciale
{% endblock %}

{% block stylesheet %}
	{{parent()}}
	{{ encore_entry_link_tags('tabs') }}
    <!-- <link rel="stylesheet" href="/build/tabs.css"> Autre façon d'appler le fichier css -->
{% endblock %}

{# {% block contentSearch %}
{% endblock %} #}

{% block h1 %}Equipe commerciale{% endblock %}

{% block contentBody %}

<section>
	<h5><b>Saisie d'un nouveau collaborateur</b></h5>
</section>
<div class="tabset mw-100">
	<!-- Tab 1 -->
	<input type="radio" name="tabset" id="tab1" aria-controls="identity" checked>
	<label for="tab1">Identité</label>
	<!-- Tab 2 -->
	<input type="radio" name="tabset" id="tab2" aria-controls="company">
	<label for="tab2">Entreprise</label>
	<!-- Tab 3 -->
	<input type="radio" name="tabset" id="tab3" aria-controls="contact">
	<label for="tab3">Contacts</label>
	<!-- Tab 4 -->
	<input type="radio" name="tabset" id="tab4" aria-controls="historic">
	<label for="tab4">Historique</label>

	<div class="tab-panels">
		<section id="identity" class="tab-panel">
			{{ form_start(form, {'method': 'POST'}, {'attr': {'novalidate': 'novalidate'}}) }}
				<div class="file-field">
				    <div class="mb-4">
				      <img src="{{asset('build/Photo.png')}}" class="rounded-circle avatar-pic" title="Photo" alt="Photo de profil">
				    </div>
				    <div>
				      <div class="btn btn-mdb-color btn-file float-left waves-effect waves-light">
				        <span><i class="fas fa-sync-alt"></i>PHOTO</span>
				        {{ form_widget(form.commercialPhoto) }}
				      </div>
				      {{ form_errors(form.commercialPhoto, {'attr': {'class': 'form-error-message'}}) }}
				    </div>
				</div>

				<div class="row">
					<div class="col-lg-6 mx-auto form-left">
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.commercialCode, null, {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto mandatory">
								{{ form_widget(form.commercialCode, {'value' : comCode.regexify("[A-Z]{10}"), 'attr': {'class': 'form-control my-form-input-little'}}) }}
							</div>
							{% if form.commercialCode.vars.errors|length > 0 %}
								<div class="col-lg-1 mx-auto pl-0">
									<button type="button" style="padding: 3px 6px;" class="btn btn-danger rounded-circle" data-title="Erreur de saisie" data-trigger="focus" data-container="body" data-toggle="popover" data-placement="top"
											data-content="
											{% for error in form.commercialCode.vars.errors %}
												-{{ error.messagePluralization is null
												? error.messageTemplate|trans(error.messageParameters, 'validators')
												: error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
												}}
												<br>
											{% endfor %}
                                    		">
										<i class="fas fa-exclamation-circle"></i>
									</button>
								</div>
							{% else %}
								<div class="col-lg-1 mx-auto pl-0"></div>
							{% endif %}
						</div>
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.commercialSexe, 'Genre', {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto mandatory">
								{{ form_widget(form.commercialSexe, {'attr': {'class': 'form-control my-form-input-little'}}) }}
							</div>
							<div class="col-lg-1 mx-auto pl-0"></div>
						</div>
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.commercialFirstname, null, {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto mandatory">
								{{ form_widget(form.commercialFirstname, {'attr': {'class': 'form-control my-form-input-big'}}) }}
							</div>
							{% if form.commercialFirstname.vars.errors|length > 0 %}
								<div class="col-lg-1 mx-auto pl-0">
									<button type="button" style="padding: 3px 6px;" class="btn btn-danger rounded-circle" data-title="Erreur de saisie" data-trigger="focus" data-container="body" data-toggle="popover" data-placement="top"
											data-content="
											{% for error in form.commercialFirstname.vars.errors %}
												-{{ error.messagePluralization is null
												? error.messageTemplate|trans(error.messageParameters, 'validators')
												: error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
												}}
												<br>
											{% endfor %}
                                    		">
										<i class="fas fa-exclamation-circle"></i>
									</button>
								</div>
							{% else %}
								<div class="col-lg-1 mx-auto pl-0"></div>
							{% endif %}
						</div>
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.commercialName, null, {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto mandatory">
								{{ form_widget(form.commercialName, {'attr': {'class': 'form-control my-form-input-big'}}) }}
							</div>
							{% if form.commercialName.vars.errors|length > 0 %}
								<div class="col-lg-1 mx-auto pl-0">
									<button type="button" style="padding: 3px 6px;" class="btn btn-danger rounded-circle" data-title="Erreur de saisie" data-trigger="focus" data-container="body" data-toggle="popover" data-placement="top"
											data-content="
											{% for error in form.commercialName.vars.errors %}
												-{{ error.messagePluralization is null
												? error.messageTemplate|trans(error.messageParameters, 'validators')
												: error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
												}}
												<br>
											{% endfor %}
											">
										<i class="fas fa-exclamation-circle"></i>
									</button>
								</div>
							{% else %}
								<div class="col-lg-1 mx-auto pl-0"></div>
							{% endif %}
						</div>
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.commercialProfil, 'Profil/droits', {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto mandatory">
								{{ form_widget(form.commercialProfil, {'attr': {'class': 'form-control my-form-input-big'}}) }}
							</div>
							<div class="col-lg-1 mx-auto pl-0"></div>
						</div>
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.commercialBirthday, null, {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mandatory-white">
						        <div class="form-group">
					                <div class='input-group date'>
					                    {{ form_widget(form.commercialBirthday, {'attr': {'class': 'my-form-input-tiny'}}) }}
					                </div>
					            </div>
							</div>
							{% if form.commercialBirthday.vars.errors|length > 0 %}
								<div class="col-lg-1 mx-auto pl-0">
									<button type="button" style="padding: 3px 6px;" class="btn btn-danger rounded-circle" data-title="Erreur de saisie" data-trigger="focus" data-container="body" data-toggle="popover" data-placement="top"
											data-content="
											{% for error in form.commercialBirthday.vars.errors %}
												-{{ error.messagePluralization is null
												? error.messageTemplate|trans(error.messageParameters, 'validators')
												: error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
												}}
												<br>
											{% endfor %}
                                    		">
										<i class="fas fa-exclamation-circle"></i>
									</button>
								</div>
							{% else %}
								<div class="col-lg-1 mx-auto pl-0"></div>
							{% endif %}
						</div>
						<div class="row my-form-field initial-height">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.arrivalDate, null, {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto arrival-departure mandatory-white">
								{{ form_widget(form.arrivalDate, {'attr': {'class': ' my-form-input-tiny'}}) }}

								{# {{ form_label(form.departureDate) }} #}
								{{ form_widget(form.departureDate, {'attr': {'class': 'my-form-input-tiny'}}) }}
							</div>
							{% if form.arrivalDate.vars.errors|length > 0 or form.departureDate.vars.errors|length > 0 %}
								<div class="col-lg-1 mx-auto pl-0">
									<button type="button" style="padding: 3px 6px;" class="btn btn-danger rounded-circle" data-title="Erreur de saisie" data-trigger="focus" data-container="body" data-toggle="popover" data-placement="top"
											data-content="
											{% for error in form.departureDate.vars.errors  %}
												-{{ error.messagePluralization is null
												? error.messageTemplate|trans(error.messageParameters, 'validators')
												: error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
												}}
												<br>
											{% endfor %}
											">
										<i class="fas fa-exclamation-circle"></i>
									</button>
								</div>
							{% else %}
								<div class="col-lg-1 mx-auto pl-0"></div>
							{% endif %}
						</div><br><br>
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.commercialLinkedinAddress, null, {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto mandatory-white">
								{{ form_widget(form.commercialLinkedinAddress, {'attr': {'class': 'form-control my-form-input-big input-linkedin'}}) }}
							</div>
							{% if form.commercialLinkedinAddress.vars.errors|length > 0 %}
								<div class="col-lg-1 mx-auto pl-0">
									<button type="button" style="padding: 3px 6px;" class="btn btn-danger rounded-circle" data-title="Erreur de saisie" data-trigger="focus" data-container="body" data-toggle="popover" data-placement="top"
											data-content="
											{% for error in form.commercialLinkedinAddress.vars.errors %}
												-{{ error.messagePluralization is null
												? error.messageTemplate|trans(error.messageParameters, 'validators')
												: error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
												}}
												<br>
											{% endfor %}
                                    		">
										<i class="fas fa-exclamation-circle"></i>
									</button>
								</div>
							{% else %}
								<div class="col-lg-1 mx-auto pl-0"></div>
							{% endif %}
						</div>
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.commercialFacebookAddress, null, {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto">
								{{ form_widget(form.commercialFacebookAddress, {'attr': {'class': 'form-control my-form-input-big input-facebook'}}) }}
							</div>
							{% if form.commercialFacebookAddress.vars.errors|length > 0 %}
								<div class="col-lg-1 mx-auto pl-0">
									<button type="button" style="padding: 3px 6px;" class="btn btn-danger rounded-circle" data-title="Erreur de saisie" data-trigger="focus" data-container="body" data-toggle="popover" data-placement="top"
											data-content="
											{% for error in form.commercialFacebookAddress.vars.errors %}
												-{{ error.messagePluralization is null
												? error.messageTemplate|trans(error.messageParameters, 'validators')
												: error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
												}}
												<br>
											{% endfor %}
                                    		">
										<i class="fas fa-exclamation-circle"></i>
									</button>
								</div>
							{% else %}
								<div class="col-lg-1 mx-auto pl-0"></div>
							{% endif %}
						</div>
						<div class="row my-form-field {% if form.commercialTwitterAddress.vars.errors|length > 0 %}my-form-error-container{% endif %}">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.commercialTwitterAddress, null, {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto mandatory-white">
								{{ form_widget(form.commercialTwitterAddress, {'attr': {'class': 'form-control my-form-input-big input-twitter'}}) }}
							</div>
							{% if form.commercialTwitterAddress.vars.errors|length > 0 %}
								<div class="col-lg-1 mx-auto pl-0">
									<button type="button" style="padding: 3px 6px;" class="btn btn-danger rounded-circle" data-title="Erreur de saisie" data-trigger="focus" data-container="body" data-toggle="popover" data-placement="top"
											data-content="
											{% for error in form.commercialTwitterAddress.vars.errors %}
												-{{ error.messagePluralization is null
												? error.messageTemplate|trans(error.messageParameters, 'validators')
												: error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
												}}
												<br>
											{% endfor %}
                                    		">
										<i class="fas fa-exclamation-circle"></i>
									</button>
								</div>
							{% else %}
								<div class="col-lg-1 mx-auto pl-0"></div>
							{% endif %}
						</div>
					</div>
					<div class="col-lg-6 mx-auto form-right">
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.email, null, {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto mandatory-white">
								{{ form_widget(form.email, {'attr': {'class': 'form-control my-form-input-big'}}) }}
							</div>
							{% if form.email.vars.errors|length > 0 %}
								<div class="col-lg-1 mx-auto pl-0">
									<button type="button" style="padding: 3px 6px;" class="btn btn-danger rounded-circle" data-title="Erreur de saisie" data-trigger="focus" data-container="body" data-toggle="popover" data-placement="top"
											data-content="
											{% for error in form.email.vars.errors %}
												-{{ error.messagePluralization is null
												? error.messageTemplate|trans(error.messageParameters, 'validators')
												: error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
												}}
												<br>
											{% endfor %}
                                    		">
										<i class="fas fa-exclamation-circle"></i>
									</button>
								</div>
							{% else %}
								<div class="col-lg-1 mx-auto pl-0"></div>
							{% endif %}
						</div>
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.plainPassword, null, {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto mandatory-white">
								{{ form_widget(form.plainPassword, {'attr': {'class': 'form-control my-form-input-big input-password'}}) }}
							</div>
							<div class="col-lg-1 mx-auto pl-0"></div>
						</div>
						<div class="row space"></div>
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								<label class="my-form-label" for="zone">Zone affectée</label>
							</div>
							<div class="col-lg-7 mx-auto mandatory-white">
								<select id="zone" name="zone" class="form-control my-form-input-big">
									<option value="0">A définir</option>
									{% for zone in listZone %}
									<option value="{{zone.Id}}">{{zone.Label}}</option>
									{% endfor %}
								</select>
							</div>
							<div class="col-lg-1 mx-auto pl-0"></div>
						</div>
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.commercialJob, null, {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto mandatory-white">
								{{ form_widget(form.commercialJob, {'attr': {'class': 'form-control my-form-input-big'}}) }}
							</div>
							{% if form.commercialJob.vars.errors|length > 0 %}
								<div class="col-lg-1 mx-auto pl-0">
									<button type="button" style="padding: 3px 6px;" class="btn btn-danger rounded-circle" data-title="Erreur de saisie" data-trigger="focus" data-container="body" data-toggle="popover" data-placement="top"
											data-content="
											{% for error in form.commercialJob.vars.errors %}
												-{{ error.messagePluralization is null
												? error.messageTemplate|trans(error.messageParameters, 'validators')
												: error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
												}}
												<br>
											{% endfor %}
                                    		">
										<i class="fas fa-exclamation-circle"></i>
									</button>
								</div>
							{% else %}
								<div class="col-lg-1 mx-auto pl-0"></div>
							{% endif %}
						</div>
						{% if listHierarchy is defined %}
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								<label class="my-form-label" for="hierarchy">Responsable N+1</label>
							</div>
							<div class="col-lg-7 mx-auto mandatory-white">
								<select id="hierarchy" name="hierarchy" class="form-control my-form-input-big">
									<option value="0">A définir</option>
									{% for hierarchy in listHierarchy %}
									<option value="{{hierarchy.Id}}">
										{% if hierarchy.CommercialProfil == 'ROLE_DIRECTEUR' %}
											{% set hierarchyName = 'Directeur' %}
										{% elseif hierarchy.CommercialProfil == 'ROLE_RESPONSABLE' %}
											{% set hierarchyName = 'Responsable' %}
										{% endif %}
										{{hierarchyName}}
										{{hierarchy.CommercialFirstName}} {{hierarchy.CommercialName}}
									</option>
									{% endfor %}
								</select>
							</div>
							<div class="col-lg-1 mx-auto pl-0"></div>
						</div>
						{% endif %}
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.commercialMobilePhone, null, {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto">
								{{ form_widget(form.commercialMobilePhone, {'attr': {'class': 'form-control my-form-input-big input-telmobile'}}) }}
							</div>
							{% if form.commercialMobilePhone.vars.errors|length > 0 %}
								<div class="col-lg-1 mx-auto pl-0">
									<button type="button" style="padding: 3px 6px;" class="btn btn-danger rounded-circle" data-title="Erreur de saisie" data-trigger="focus" data-container="body" data-toggle="popover" data-placement="top"
											data-content="
											{% for error in form.commercialMobilePhone.vars.errors %}
												-{{ error.messagePluralization is null
												? error.messageTemplate|trans(error.messageParameters, 'validators')
												: error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
												}}
												<br>
											{% endfor %}
                                    		">
										<i class="fas fa-exclamation-circle"></i>
									</button>
								</div>
							{% else %}
								<div class="col-lg-1 mx-auto pl-0"></div>
							{% endif %}
						</div>
						<div class="row my-form-field">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.commercialPhone, null, {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto">
								{{ form_widget(form.commercialPhone, {'attr': {'class': 'form-control my-form-input-big input-tel'}}) }}
							</div>
							{% if form.commercialPhone.vars.errors|length > 0 %}
								<div class="col-lg-1 mx-auto pl-0">
									<button type="button" style="padding: 3px 6px;" class="btn btn-danger rounded-circle" data-title="Erreur de saisie" data-trigger="focus" data-container="body" data-toggle="popover" data-placement="top"
											data-content="
											{% for error in form.commercialPhone.vars.errors %}
												-{{ error.messagePluralization is null
												? error.messageTemplate|trans(error.messageParameters, 'validators')
												: error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
												}}
												<br>
											{% endfor %}
                                    		">
										<i class="fas fa-exclamation-circle"></i>
									</button>
								</div>
							{% else %}
								<div class="col-lg-1 mx-auto pl-0"></div>
							{% endif %}
						</div>
						<div class="row my-form-field my-form-input-fat-container">
							<div class="col-lg-4 mx-auto">
								{{ form_label(form.remarks, null, {'label_attr': {'class': 'my-form-label'}}) }}
							</div>
							<div class="col-lg-7 mx-auto">
								{{ form_widget(form.remarks, {'attr': {'class': 'form-control my-form-input-fat'}}) }}
							</div>
							{% if form.remarks.vars.errors|length > 0 %}
								<div class="col-lg-1 mx-auto pl-0">
									<button type="button" style="padding: 3px 6px;" class="btn btn-danger rounded-circle" data-title="Erreur de saisie" data-trigger="focus" data-container="body" data-toggle="popover" data-placement="top"
											data-content="
											{% for error in form.remarks.vars.errors %}
												-{{ error.messagePluralization is null
												? error.messageTemplate|trans(error.messageParameters, 'validators')
												: error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
												}}
												<br>
											{% endfor %}
                                    		">
										<i class="fas fa-exclamation-circle"></i>
									</button>
								</div>
							{% else %}
								<div class="col-lg-1 mx-auto pl-0"></div>
							{% endif %}
						</div>
					</div>
				</div>
				<div class="row form-buttons">
                    <button class="btn btn-white-red return-button" type="button">
                       <a href="{{ path('listCommercial') }}">ANNULER</a>
                    </button>
					{{ form_widget(form.save, { 'label': 'AJOUTER', 'attr': {'class': 'btn btn-red submit-button'}}) }}
				</div>
			{{ form_end(form) }}
		</section>

		<section id="company" class="tab-panel">
			
		</section>

		<section id="contact" class="tab-panel">
			
		</section>

		<section id="historic" class="tab-panel">
		</section>
	</div>
</div>

{% endblock %}
