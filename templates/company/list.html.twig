{% extends "layout.html.twig" %}

{% block title %}
	{{parent()}} - Liste des entreprises
{% endblock %}

{# {% block contentSearch %}
{% endblock %} #}
{% set nombre = 0 %}
{% for uneEntreprise in lesEntreprises %}
	{% set nombre = nombre + 1 %}
{% endfor %}

{% block h1 %}
	Entreprises {{ nombre }}
{% endblock %}

{% block contentBodyContainer %}
<div>
	{% block contentBody %}

	<!--<button id="export" class="btn btn-success pull-right"><i class="glyphicon glyphicon-export"></i>&nbsp;Exporter</button>-->
		<div id="toolbar">
			<select class="form-control">
				<option value="">Exporter cette page</option>
				<option value="all">Exporter tous</option>
				<option value="selected">Exporter les lignes cochées</option>
			</select>
		</div>

		<div class="table-responsive">
			<table id="table" class="table"
				   data-toggle="table"
				   data-filter-control="true"
				   data-show-export="true"
				   data-export-types="['csv']"
				   data-pagination="true"
				   data-page-size="1"
				   data-page-list="[5, 15, 20, 50, 100, 200]"
				   data-toolbar="#toolbar">
				<thead>
				<tr>
					<th class="text-center" data-field="state" data-checkbox="true"></th>
					<th data-field="logo" data-sortable="false"></th>
					<th data-field="nom" data-sortable="true">Nom</th>
					<th data-field="activite" data-sortable="true">Activité</th>
					<th data-field="cp" data-sortable="true">CP</th>
					<th data-field="ville" data-sortable="true">Ville</th>
					<th data-field="responsable" data-sortable="true">Responsable du compte</th>
					<th data-field="statut" data-sortable="true">Statut</th>
					<th data-field="contacts" data-sortable="true">Contacts</th>
					<th data-field="supprimer">Supprimer</th>
				</tr>
				</thead>
				<tbody id="field-filter">
				{% for uneEntreprise in lesEntreprises %}
					<tr>
						<td class="bs-checkbox">
							<div class="form-check">
								<label class="form-check-label">
									<input class="form-check-input" data-index="{{ uneEntreprise.id }}" name="btSelectItem" type="checkbox">
									<span class="form-check-sign">
	                                <span class="check"></span>
	                            </span>
								</label>
							</div>
						</td>
						<td>
							<a href="{{ path('editCompany', {'id':uneEntreprise.id}) }}">	{{uneEntreprise.CompanyLogo}}</a>
						</td>
						<td>
							<a href="{{ path('editCompany', {'id':uneEntreprise.id}) }}">	{{uneEntreprise.CompanyLastName}}</a>
						</td>
						<td>
							<a href="{{ path('editCompany', {'id':uneEntreprise.id}) }}">	1</a>
						</td>
						<td>
							<a href="{{ path('editCompany', {'id':uneEntreprise.id}) }}">	{{uneEntreprise.CompanyPostalCode}}</a>
						</td>
						<td>
							<a href="{{ path('editCompany', {'id':uneEntreprise.id}) }}">	{{uneEntreprise.CompanyCity}}</a>
						</td>
						<td>
							<a href="{{ path('editCompany', {'id':uneEntreprise.id}) }}">	toto</a>
						</td>
						<td>
							<a href="{{ path('editCompany', {'id':uneEntreprise.id}) }}">	{{uneEntreprise.CompanyStatus }}</a>
						</td>
						<td>
							<a href="{{ path('editCompany', {'id':uneEntreprise.id}) }}">	0</a>
						</td>

						<td>
							<a class="btn btn-danger" href="{{ path('deleteCompany', {'id':uneEntreprise.id}) }}">
								<i class="glyphicon glyphicon-trash"></i>
								X
							</a>
						</td>
					</tr>
				{% endfor %}
				</tbody>
			</table>
		</div>

		<button class="btn add-button"><a href="{{ path('newCompany') }}">Ajouter</a></button>
	{% endblock %}
</div>
{% endblock %}