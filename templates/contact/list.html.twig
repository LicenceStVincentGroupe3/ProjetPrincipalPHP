{% extends 'layout.html.twig' %}

{% block title %}
	{{ parent()}}Contact
{% endblock %}

{# {% block contentSearch %}
{% endblock %} #}

{% block h1 %}Contact{% endblock %}

{% block contentBodyContainer %}
	<div>
		{% block contentBody %}

			<!--<button id="export" class="btn btn-success pull-right"><i class="glyphicon glyphicon-export"></i>&nbsp;Exporter</button>-->


			<!-- <div id="toolbar">
                    <select class="form-control">
                            <option value="">Exporter cette page</option>
                            <option value="all">Exporter tous</option>
                            <option value="selected">Exporter les lignes cochées</option>
                    </select>
            </div> -->

			<form method="post">
				<div class="table-responsive">
					<table id="table" class="table sortable-table">
						<thead>
						<tr>
							<th class="text-center" data-field="state" data-checkbox="true"></th>
							<th data-field="prenom" data-sortable="true">Prénom</th>
							<th data-field="nom" data-sortable="true">Nom</th>
							<th data-field="entreprise" data-sortable="true">Entreprise</th>
							<th data-field="fonction" data-sortable="true">Fonction</th>
							<th data-field="email" data-sortable="true">Email</th>
							<th data-field="telfix" data-sortable="true">Tel fix</th>
							<th data-field="supprimer">Supprimer</th>
						</tr>
						</thead>
						<tbody id="myTableBody">
						{% for cont in lesContacts %}
							<tr>
								<td>
									<input type="checkbox" class="checkthis" name="deleteData[]" value="{{ cont.Id }}">
								</td>
								<td>
									<a href="{{ path('editContact', {'id':cont.Id}) }}">	{{cont.ContactFirstName}}
									</a>
								</td>
								<td>
									<a href="{{ path('editContact', {'id':cont.Id}) }}">	{{cont.contactLastName}}
									</a>
								</td>
								<td>
									<a href="{{ path('editContact', {'id':cont.Id}) }}">	{{cont.contactBirthDate|date("d/m/Y")}}
									</a>
								</td>
								<td>
									<a href="{{ path('editContact', {'id':cont.Id}) }}">	{{cont.contactDecisionLevel}}
									</a>
								</td>

								<td>
									<a href="{{ path('editContact', {'id':cont.Id}) }}">	{{cont.contactEmail}}
									</a>
								</td>

								<td>
									<a href="{{ path('editContact', {'id':cont.Id}) }}">	{{cont.contactMobilePhone}}
									</a>
								</td>
								<td>
									<a class="btn btn-danger" href="{{ path('deleteContact', {'id':cont.Id}) }}">
										<i class="glyphicon glyphicon-trash"></i>
										X
									</a>
								</td>
							</tr>
						{% else %}
							<tr>
								<td>Aucun Contact</td>
							</tr>
						{% endfor %}
						</tbody>
					</table>
				</div>

				<!-- modal-dialog -->
				<div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
					<!-- modal-content -->
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
									<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
								</button>
								<h4 class="modal-title custom_align" id="Heading">Delete this entry</h4>
							</div>
							<div class="modal-body">
								<div class="alert alert-danger">
									<span class="glyphicon glyphicon-warning-sign"></span>
									Are you sure you want to delete this Record?
								</div>
							</div>
							<div class="modal-footer ">
								<button type="button" class="btn btn-success">
									<span class="glyphicon glyphicon-ok-sign"></span>
									<input type="submit" name="delete" id="delete" value="Oui">
								</button>
								<button type="button" class="btn btn-default" data-dismiss="modal">
									<span class="glyphicon glyphicon-remove"></span>
									No
								</button>
							</div>
						</div>
					</div>
				</div>
			</form>

			<div class="table-after">
				<div class="row">
					<div class="table-after-entry">
						<select id="table-nb-entry" class="table-nb-entry unset-outline">
							<option value="15">15</option>
							<option value="20">20</option>
							<option value="50">50</option>
							<option value="100">100</option>
							<option value="200">200</option>
						</select>
					</div>
					<div class="table-nb-functions">
						<!-- <button class="btn btn-danger pull-right"  data-title="Delete" data-toggle="modal" data-target="#delete">
                            <span class="glyphicon glyphicon-trash"></span>
                            Supprimer
                        </button> -->
						<span class="table-after-delete" data-title="Delete" data-toggle="modal" data-target="#delete">
					<i class="fas fa-trash"></i>
				</span>
						<span class="table-after-add">
					<i class="fas fa-user-plus"></i>
				</span>
					</div>
					<div class="table-after-pagination">
						<ul class="pagination pagination-lg pager" id="myPager"></ul>
					</div>
					<div class="table-after-btn-add">
						<button class="btn add-button">
							<a href="{{ path('newContact') }}">Ajouter</a>
						</button>
					</div>
				</div>
			</div>

		{% endblock %}
	</div>
{% endblock %}

