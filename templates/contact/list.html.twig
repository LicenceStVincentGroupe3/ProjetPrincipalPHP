{% extends 'layout.html.twig' %}

{% block title %}
	{{ parent()}}Contact
{% endblock %}

{# {% block contentSearch %}
{% endblock %} #}

{% block h1 %}Contact{% endblock %}

{% block contentBodyContainer %}
	<div>
		{% block contentBody %}

			<!--<button id="export" class="btn btn-success pull-right"><i class="glyphicon glyphicon-export"></i>&nbsp;Exporter</button>-->


			<div id="toolbar">
				<select class="form-control">
					<option value="">Exporter cette page</option>
					<option value="all">Exporter tous</option>
					<option value="selected">Exporter les lignes cochées</option>
				</select>
			</div>


			<div class="table-responsive">
				<table id="table" class="table"
					   data-toggle="table"
					   data-filter-control="true"
					   data-show-export="true"
					   data-export-types="['csv']"
					   data-pagination="true"
					   data-page-list="[5, 15, 20, 50, 100, 200]"
					   data-toolbar="#toolbar">
					<thead>
					<tr>
						<th class="text-center" data-field="state" data-checkbox="true"></th>
						<th data-field="prenom" data-sortable="true">Prénom</th>
						<th data-field="nom" data-sortable="true">Nom</th>
						<th data-field="entreprise" data-sortable="true">Entreprise</th>
						<th data-field="fonction" data-sortable="true">Fonction</th>
						<th data-field="email" data-sortable="true">Email</th>
						<th data-field="telfix" data-sortable="true">Tel fix</th>
						<th data-field="supprimer">Supprimer</th>
					</tr>
					</thead>
					<tbody id="field-filter">
					{% set indice = 0 %}
					{% for cont in lesContacts %}
						<tr>
							<td class="bs-checkbox">
								<div class="form-check">
									<label class="form-check-label">
										<input class="form-check-input" data-index="{{ indice }}" name="btSelectItem" type="checkbox">
										<span class="form-check-sign">
	                                <span class="check"></span>
	                            </span>
									</label>
								</div>
							</td>
							<td>
								<a href="{{ path('editContact', {'id':cont.Id}) }}">	{{cont.ContactFirstName}}
								</a>
							</td>
							<td>
								<a href="{{ path('editContact', {'id':cont.Id}) }}">	{{cont.contactLastName}}
								</a>
							</td>
							<td>
								<a href="{{ path('editContact', {'id':cont.Id}) }}">	{{cont.contactBirthDate|date("d/m/Y")}}
								</a>
							</td>
							<td>
								<a href="{{ path('editContact', {'id':cont.Id}) }}">	{{cont.contactDecisionLevel}}
								</a>
							</td>

							<td>
								<a href="{{ path('editContact', {'id':cont.Id}) }}">	{{cont.contactEmail}}
								</a>
							</td>

							<td>
								<a href="{{ path('editContact', {'id':cont.Id}) }}">	{{cont.contactMobilePhone}}
								</a>
							</td>

							<td>
								<a class="btn btn-danger" href="{{ path('deleteContact', {'id':cont.Id}) }}">
									<i class="glyphicon glyphicon-trash"></i>
									X
								</a>
							</td>
						</tr>
						{% set indice = indice + 1 %}
					{% else %}
							Aucun Contact
					{% endfor %}
					</tbody>
				</table>
			</div>

			<button class="btn add-button"><a href="{{ path('newContact') }}">Ajouter</a></button>

		{% endblock %}
	</div>
{% endblock %}
